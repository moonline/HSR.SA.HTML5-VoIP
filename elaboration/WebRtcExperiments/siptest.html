<!doctype html>
<html>
	<head>
		<title>WebRTC SIP-Experiment</title>
		<meta charset="utf-8">
        <link rel="stylesheet" href="style/button.css">
		<style>
			* { box-sizing: border-box; -moz-box-sizing: border-box; font-size: 1em; }

			html, body { margin: 0; padding: 0; }

			.controlls { background: black; color: white; background: linear-gradient(gray, black); padding: 0.5em; }

			.video { margin: 2em 0; background: none; width: 60%; margin: 0 20%; }
			.foreignVideo, .myVideo { display: inline-block; min-height: 10em;  vertical-align: top; padding: 0.5em; border-radius: 0.5em; padding: 0; }

            .video h2 { padding: 0.5em; background: black; background: linear-gradient(gray, black); color: white; margin: 0;
                border-top-left-radius: 0.5em; border-top-right-radius: 0.5em; }

			#foreignVideo { width: 72%; margin: 1em 1%; background: cornflowerblue; }
			#myVideo { width: 22%; margin: 1em 1%; background: teal; }
			#foreignVideoFrame, #myVideoFrame { width: 100%; height: auto; border-bottom-left-radius: 0.5em; border-bottom-right-radius: 0.5em; display: block; }
            #myVideoFrame { -moz-transform: scaleX(-1); -o-transform: scaleX(-1); -webkit-transform: scaleX(-1); transform: scaleX(-1); filter: FlipH; -ms-filter: "FlipH"; }

			#sdpLocal, #sdpForeign { min-width: 50%; }
			.connection fieldset { display: inline-block; width: 49%; margin: 0; vertical-align: top; }
			.connection textarea { width: 100%; }
			textarea[readonly="readonly"] { background: gainsboro; border: none; border-radius: 0.25em; padding: 0.25em; }
		</style>
	</head>
	<body>
		<div class="video">
			<div class="foreignVideo" id="foreignVideo">
				<h2>foreign video</h2>
				<audio id="audio" autoplay></audio>
				<video class="foreignVideoFrame" id="foreignVideoFrame" autoplay></video>
			</div>
			<div class="myVideo" id="myVideo">
				<h2>my video</h2>
				<video class="myVideoFrame" id="myVideoFrame" autoplay muted=true></video>
			</div>
		</div>
		
		<script src="libs/jssip-0.3.0.js"></script>
		<script>
            var phone = new JsSIP.UA({
				'ws_servers': 'ws://sip:8080',
				'uri': 'sip:netzhuffle@sip',
				'password': 'netzhuffle'
            });
            phone.on('connected', function(e) {
            	console.log('connected', e);
            });
            phone.on('disconnected', function(e) {
            	console.log('disconnected', e);
            });
            phone.on('registered', function(e) {
            	console.log('registered', e);
            });
            phone.on('unregistered', function(e) {
            	console.log('unregistered', e);
            });
            phone.on('registrationFailed', function(e) {
            	console.log('registrationFailed', e);
            });
            phone.start();
		</script>
	</body>
</html> 
